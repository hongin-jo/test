<!DOCTYPE html>
<html lang="ko">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <!--<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />-->
    <meta name="viewport" content="height=1080, width=1920, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Patron_tv</title>

    <link rel="shortcut icon" type="image/x-icon" href="./img/favicon.png">
    <link rel="stylesheet" href="./css/search.css">

    <!-- 설정 js -->
    <script src="./js/config.js"></script>

    <!-- cookie -->
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@rc/dist/js.cookie.min.js"></script>

    <script src="./js/jquery-3.3.1.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="https://svcapi.gigagenie.ai/sdk/v1.0/js/gigagenie.js"></script>
    <script src="./js/prefixed.min.js" type="text/javascript"></script>

    <!--    <script>-->
    <!--        // <![CDATA[-->
    <!--        try {-->
    <!--            window.addEventListener('load', function(){-->
    <!--                setTimeout(scrollTo, 0, 0, 1);-->
    <!--            }, false);-->
    <!--        } catch(e) {}-->
    <!--        // ]]>-->
    <!--    </script>-->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2B2YS1F98B"></script>

    <!--    <script>-->
    <!--        window.dataLayer = window.dataLayer || [];-->
    <!--        function gtag(){dataLayer.push(arguments);}-->
    <!--        gtag('js', new Date());-->

    <!--        gtag('config', 'G-2B2YS1F98B');-->
    <!--    </script>-->

    <style>
        @font-face {
            font-family: "Noto Sans KR";
            src: url("./css/fonts/NotoSans-Light.otf");
        }


        /*reset 해야할 것*/
        body {
            padding: 0;
            margin: 0;
            position: relative;
            font-family: "Noto Sans KR";
        }

        h1 {
            margin: 0;
        }

        i {
            font-style: normal;
        }

        li {
            list-style: none;
        }

        ul {
            padding-left: 0;
            margin: 0;
        }

        a {
            text-decoration: none;
        }

        /*common.css*/
        .menu {
            width: 104px;
            height: 100vh;
            position: fixed;
            left: 0;
            top: 0;
            padding: 115px 0 0 32px;
            box-sizing: border-box;
            background-color: #1d1d1d;
        }

        article {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100vh;
            z-index: -1;
            background-color: #1d1d1d;
        }

        .contents {
            width: auto;
            background-color: #1d1d1d;
            position: absolute;
            left: 104px;
            padding: 88px 0 0 56px;
        }

        .lnb {
            margin-bottom: 400px;
            box-sizing: border-box;
            height: 160px;
        }

        .lnb li {
            margin-bottom: 24px;
        }

        .lnb li:last-of-type {
            margin-bottom: 0;
        }

        .icon-logo {
            background-image: url("img/logo_symbol@2x.png");
            width: 40px;
            height: 24px;
            display: block;
            background-size: cover;
            margin-bottom: 174px;
        }

        .icon-home {
            background-image: url("img/icon-Home.png");
            width: 40px;
            height: 40px;
            display: block;
            background-size: cover;
        }

        .icon-storage {
            background-image: url("img/icon_storage.png");
            width: 40px;
            height: 40px;
            display: block;
            background-size: cover;
        }

        .icon-search {
            background-image: url("img/icon_search.png");
            width: 40px;
            height: 40px;
            display: block;
            background-size: cover;
        }

        .icon-setting {
            background-image: url("img/icon_settiing.png");
            width: 40px;
            height: 40px;
            display: block;
            background-size: cover;
        }

        .icon-exit {
            background-image: url("img/icon_exit.png");
            width: 40px;
            height: 40px;
            display: block;
            background-size: cover;
        }

        .item {
            width: 400px;
            height: 255px;
            display: block;
            border-radius: 6px;
        }


        /**첫번째 테두리 고정 영역**/
        .fix-area {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .fix-box {
            position: absolute;
            left: -4px;
            top: -4px;
            border: 4px solid white;
            width: 400px;
            height: 255px;
            border-radius: 10px;
            box-sizing: content-box;
        }


        a:focus {
            outline: none;
        }
        .fake{
            width: 1px !important;
            height: 1px !important;
            background-color: transparent;
            opacity: 0%;
        }
        .fake.active{
            border: none;
        }
    </style>

</head>

<body>

    <header>
        <div class="menu">
            <h1>
                <i class="icon-logo"></i>
            </h1>
            <ul class="lnb">
                <li>
                    <a href="/home">
                        <i class="icon-home"></i>
                    </a>
                </li>
                <li>
                    <a href="/storage">
                        <i class="icon-storage"></i>
                    </a>
                </li>
                <li>
                    <a href="/search">
                        <i class="icon-search"></i>
                    </a>
                </li>
            </ul>
            <ul class="gnb">
                <li>
                    <a href="/setting">
                        <i class="icon-setting"></i>
                    </a>
                </li>
                <li>
                    <a href="/exit">
                        <i class="icon-exit"></i>
                    </a>
                </li>
            </ul>
        </div>
    </header>

    <article>
        <div class="contents">

            <div class="search-area">
                <a href="" class="search-guide">
                    '들라클루아'에 대한 검색결과가 없습니다
                </a>
            </div>

            <div class="cate-guide">
                <span>이런 검색어는 어떠세요?</span>
            </div>

            <!--첫번째 테두리 고정 영역
            <div class="fix-area">
                <div class="fix-box">

                </div>
            </div>
            -->

            <div class="item-container">
                <ul class="item-box">
                    <li class="item">
                        <a href="javascript:void(0)" class="active" style='background-image: url("mone.jpg")'></a>
                        <span>서양화</span>
                    </li>
                    <li class="item">
                        <a href="javascript:void(0)" style='background-image: url("mone2.jpg")'></a>
                        <span>동양화</span>
                    </li>
                    <li class="item">
                        <a href="javascript:void(0)" style='background-image: url("mone.jpg")'></a>
                        <span>미디어아트</span>
                    </li>
                    <li class="item">
                        <a href="javascript:void(0)" style='background-image: url("mone2.jpg")'></a>
                        <span>입체미술</span>
                    </li>
                    <li class="item">
                        <a href="javascript:void(0)" style='background-image: url("mone.jpg")'></a>
                        <span>비디오아트</span>
                    </li>
                    <li>
                        <a href="javascript:void(0)" class="fake"><span>fake</span></a>
                    </li>
                </ul>
            </div>

        </div>
    </article>


</body>

<script>

    //item이 왼쪽으로 이동하는 함수 moveItem
    //item : 테두리가 생길 태그 container : 그 태그를 둘러싸고있는 position이 잡힌 박스 
    //length: 박스의 가로 넓이 + 마진값


    //슬라이드 마지막
    const lastCount = $(".item").length;
    console.log("라스트카운트");
    console.log(lastCount);

    function moveItem(item, container, length) {
        $(item).on({ // $(item)  .item 이벤트 발생
            focus: function () {  //포커스 왔을때
                var num = $(this).parent().index(); //변수 num에 현재 이벤트가 일어난 엘리먼트의.부모의.n번째 인자를 담는다
                var left = num * -length //변수 left에 n번째인자 * -(박스가로+마진값) ???

                $(this).parent().addClass('active'); //현재 엘리먼트에 active클래스를 붙여준다 --> a 부모인 li에 클래스 붙여줌
                $(container).css('left', left); // .item-container css left값에 변수 left값을 붙여준다
                console.log(num);
                
                // if (num == lastCount - 1) { // 0번째 순서일때 css left값 0, 왼쪽으로 이동하지 않음\
                //     $(item).on("focusout", function () {
                //         $(this).parent().removeClass('active');
                //         $(container).css('left', 0);
                //         $(".item-container li").eq(0).find('a').focus();
                //     });
                // }

                console.log('focus');
                if($(':focus').hasClass('fake')){
                    console.log('fake');
                    $('.item-container').find('.item').eq(0).focus();
                }
            },
            blur: function () { //포커스를 벗어나면
                var num = $(this).parent().index();
                if (num == lastCount-1) { // 0번째 순서일때 css left값 0, 왼쪽으로 이동하지 않음
                    $(this).parent().removeClass('active');
                    $(container).css('left', 0);
                    $(".item-container li").eq(0).find('a').focus();
                } else{
                    $(this).parent().removeClass('active'); //현재 엘리먼트에서 active클래스를 지운다. --> a 부모인 li에 클래스 지워줌
                }
            
               console.log('blur');
            }
        })
    }

    moveItem('.item-container .item a', '.item-container', 420);

    // function moveFirst() {
    //     $(document).ready(function () {
    //         $(".first").focus();
    //     });
    // }
</script>

</html>